### SSH 端口转发用法

#### 本地转发

本地转发 ( Local Forwarding ) 指的是 , SSH 服务器作为中介的跳板机 , 建立本地计算机与特定目标网站之间的加密连接. 是在本地计算机的 SSH 客户端建立的转发规则.

它会指定一个本地端口 ( local-port ) , 所有发往该端口的请求 , 都会转发到 SSH 跳板机 ( tunnel-host ) , 然后 SSH 跳板机作为中介 , 将收到的请求发往目标服务器 ( target-host ) 的目标端口 ( target-port )

```bash
$ ssl -L local-port:target-host:target-port tunnel-host
```

范例 

```bash
$ ssl -L 8080:192.168.1.1:80 root@123.123.123.123 -p 2222 -N
```

这个范例命令的意思是 , 通过 123.123.123.123 这台机器 , 在本地 8080 端口与 123.123.123.123 机器所在的内网网关 80 端口之间建立 SSH 隧道.

`-L`  参数表示本地转发 , `-N`  参数表示建立的 SSH 只用于端口转发 , 不能执行远程命令 , 这样可以提供安全性. 另外 , 我们还可以添加一个 `-f` 参数表示 SSH 连接在后台运行.
